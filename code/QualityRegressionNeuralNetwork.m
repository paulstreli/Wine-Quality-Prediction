function [Y,Xf,Af] = QualityRegressionNeuralNetwork(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 22-Mar-2018 10:42:03.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx12 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx1 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1.74126390431722;-2.62423079410816;-1.57472508568634;-2.19616964955795;-1.0100240696809;-1.34472581483927;-1.64506688257234;-1.92678068069672;-2.51483874134671;-3.08558278589943;-2.08617757118489;-2.09790480399231];
x1_step1.gain = [0.863763391443123;0.215491263348906;0.26368637620638;0.174820691822512;0.145994447662715;0.116138873114575;0.12416876932865;0.260690546609213;0.116206265851792;0.250708930779544;0.167352659785196;0.344713337254982];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.9881844612636621061;-1.9661102873408689007;-1.8244069064452592688;-1.8907168382769412585;1.9005711902263793256;1.8435443823685886411;1.974220114000471149;1.6633616642587871759;-1.6421084584503167214;-1.8548336356999317598;-1.5261879971153886615;-1.4692645973974711726;-1.489850587093345835;1.5480815597891957047;-1.532309347748106898;1.4325055900899452688;-1.5996557023744346626;1.0982373119111690229;1.1557235051503569334;-1.3225180038591382026;-1.2903396203101498152;-1.2229675454145700897;1.1542054806956261181;-1.1056139432742322359;1.1563934463890859217;-0.92071913723603504565;-0.96451129078602415579;-0.84227250731194225342;0.83268999540565991069;0.71532095388406269354;0.76042263882842209277;0.85102619312784633099;0.81023783092561241226;-0.60786790809856816598;-0.6926007098348215818;0.48904639166999902544;-0.43494873258035476882;-0.29884998451281663545;0.35931583626136670562;-0.30206622950900813285;0.37128859537707442628;-0.34435280006233337513;-0.48445487598783709693;0.22089576464127311239;0.33801581098523958424;0.27018897870928149096;0.23289651351095322362;0.00032275755847313070991;0.045810361797010853979;0.055140769119293289724;0.10188268034662421868;-0.061561173069455736584;0.34082773162650636944;0.22899876138256655689;-0.19032153312652932975;0.24355797116179619954;0.27205003900380175796;-0.36677702926049216003;-0.3064721582376658815;0.21877175432794521148;-0.49502563356708018105;0.59228685950598936039;-0.5802432423624064306;0.79424056509484441957;-0.61620246404739509316;-0.66523014069832642203;-0.61820831035546308652;-0.51453019570033964314;-0.68490092818078007753;0.89345431405765851629;0.66850038286812862864;0.78083000642444044814;-0.89212299596012489822;0.90879572114858508947;1.0301845891757195339;1.0622217405818290548;1.054064501965017886;-1.1331868833114402406;-1.2637117343389054902;-1.1098736389450893913;1.6610821391654548851;1.1711366053656941943;-1.2845593145476466024;-1.3753000333200087191;-1.5495866788224776922;-1.2134178890065168144;-1.5197850240027181989;1.5077433461172107254;1.5535332993406438806;1.3564649598316445012;-1.6958721299811263528;1.7361907959523963374;1.7157812037855708631;-1.6451057426354682711;1.9329890565292962012;-1.7517576279380591142;-1.9707166417678430026;1.8767184015611024783;1.9506604369476310268;-1.9499650736449600785];
IW1_1 = [-0.96206106491135412462 -0.64245376338354165391 0.055337363993211638458 0.80031544577344138069 0.23385699647440039151 0.0056085080211145050058 -0.47867569998138959075 -0.36499811095236162073 1.1554711045948680148 0.5372996082037168053 0.65031040411012153157 -0.65122458534955862675;0.66412526746630218266 -0.34436955830812954193 0.10352335414150450055 -0.99696321193310111219 -0.69090196064959485955 0.39405041030630072463 -0.62626337389965514024 -0.18334098935543244324 -0.61199363240804771635 -0.9210466455738852698 -0.31255735623783931221 0.62766746175856025225;0.39132616035093664708 -0.42299439996302512501 0.78207834632443573586 -0.8121042680795762525 0.42530780265910539395 0.43295142863863511629 -0.42341460780429612809 -0.056655070094326027974 -0.27622340553135649177 -1.0600874741419923364 -0.58408824840922590749 0.87602066896711983102;-0.11857744677181415727 0.7184302034970001527 -1.0196444879229698 -0.33462859001850797647 -0.3973535144214033199 -1.3590801034504935707 0.012225681417875635532 -0.42133471631360436271 -0.10166833550916545836 -0.0059937713798278490288 0.1866949558296399081 -0.72810343955507483837;-0.59345033679171033114 -0.87089938767149133181 0.28440854438020835016 0.68587966646546894012 -0.68693004253534895032 0.045087808149170648109 -0.4066290393359724975 -0.094879966793695771909 0.85351720079250759099 -0.36184238453537653779 -0.9176874633905489631 -0.39560224514253761186;-0.91710911938599348758 0.24424621982043043245 0.96743845612855350335 -0.79003568467668061626 0.40975589118265182131 -0.83815089911738416273 0.0097850837785059541218 0.11548885365799126113 0.29064413915702708158 -0.57489164189927877135 0.031987699983590946184 0.79752147760556058032;-0.59231030984854149413 -0.14245541043838241824 -0.18279870591588887052 0.55982570551837695927 -0.48948492617720046338 0.37096917879205421054 0.60900924508509379773 0.088303412028119893096 -1.0560081810490706822 0.61078714428660596525 -0.28250722424192253879 0.64366766145558285128;-0.70235321544574791375 -0.57330456010757713248 -0.08371244833996335788 1.2033416872963205169 0.85151993826124994236 -0.69411203949739896935 0.44095966450837376094 0.5993685628266394172 0.39883134581703960642 0.32677148220595481076 -0.27029928249749490821 0.51671317643208425352;0.29347160550257161971 -0.63671769301134839569 0.1191809170066772533 -0.52489162799412658611 -0.59407870037400956065 0.082664246235246569006 -0.41762912775113464336 -1.3023695125729983779 0.79503378255943502051 -0.56729440950243881225 0.56778732149959776354 -0.65093906733092898875;0.88353769007769811239 -0.82740815003976975195 -0.174915730486718074 -0.96278744755172640524 -0.21586115073639394746 0.35479423944276394787 -0.53838839626498946611 -0.28197648542322523157 0.21320805421391983425 -0.31989258043747836879 0.63134728650941562833 0.89643317449942994113;-0.057120150172552758283 -0.17372725753398132742 -1.0747234781129351155 0.51327931445170382752 0.40436828768246579902 -0.77496418289127377843 -0.77276450597109991314 -0.83253537920487685753 -0.43953390745509618442 0.092144428229412767006 0.78398263563044812141 -0.66077898275792279481;0.24941113107863857601 0.88547896199267950301 0.68798406923812172042 0.47627001770045751528 -0.65203407805414714815 0.32788286639347680174 0.39661497629663194919 -0.0158955455128829172 -1.038199838421975274 -0.25110082937058747499 0.4999967423530879973 1.1379765373618127011;0.60484670180273703011 0.34970487917135473221 -0.48568000391510335323 -0.44362487784629184295 0.26190205359414914232 -0.52506203025125897099 0.57881574324025553135 -0.95129420752599003208 -0.86988983698073563122 -0.87246807235415668735 0.50213706644524491729 -0.51367737297347537684;-0.53737636101224817153 -0.77654992784753928969 -0.96920451944490237928 -0.086693317654182616705 0.86544017376733217706 0.45401376072831478581 0.22876529650626681311 0.74595373968542133536 -0.5621632420644767647 0.76532388030714693095 0.085970703268517287277 0.73122644807323800009;0.95534453605239399998 0.18305948162931379164 -0.0088885855477129210866 -0.092710046233904358504 0.51319191965580002179 1.0176549157834737791 0.23218601536519578588 -0.95954736783500582664 0.1025524870960195789 -0.068450009284857282754 -0.98275604855204090615 0.55149565304015968348;-0.18569593099234296685 -0.12166651470709967386 -0.61663972180906490017 -0.44573481605367359926 0.17548091450262504054 -0.94229895752136483278 -0.0091547174937218010055 -1.0732062018009904669 0.49196478660723563792 -0.56100863009689017069 -0.8471313912715536798 0.44756108878940153994;0.097239425932241385642 -0.73016401099831540478 -0.38599912296966293335 -0.23821041523137864715 0.78251667024952553664 0.71665275505741654616 -0.3675536985804104817 -0.37780843176849393528 0.40720091627136639767 -0.48715400374962614105 0.80485753437417739686 -0.65571974824912715452;-0.81043951165687933003 -0.29377197355897011199 0.58174785882051638364 0.53746534890531749706 -0.62623526143879071348 -0.22011449043008063375 0.70066011810467476728 0.15373278767364137454 0.8259974006062490437 0.77844295940657448618 -0.02357312150219221733 1.0178126196000147896;-0.54122040413488126109 0.330084839930163354 -0.79725153796032377507 -0.93132337812914101072 -0.20997537018054679425 -0.20481817202478999618 -0.65429251947616307028 0.85887012856700617469 0.5070283187005049097 -0.86635054688389201427 0.20816081286641757719 0.091787714758432753515;0.26324219951883065516 0.09184957886722920628 0.99118039811558822372 -0.09256105292136164453 0.2275220999854674353 -0.62476715668700277817 0.41318822873665006501 0.11748933588386233084 1.0529475045049290216 -0.32155413353442025004 0.81899684874343325891 0.89888023918104087429;0.28699015311568937259 1.0574477549948950728 -0.81368917900084625217 -0.35422401615818216447 0.17466610627242523668 -0.29278451709605135544 0.9068075960309800454 0.3181274607404083743 0.54374243152130219414 -0.26151232268413077131 0.42388188071665389156 -1.1795443836210870447;0.46065365016505521734 0.22747145697175330525 -0.48348876852439715002 -0.46916862592057889669 0.15928836533149884347 0.97456820240209274253 0.81333763675318004882 -0.044252149306053770172 0.43457689080130107451 0.89945362657294891662 0.40955181967376103058 0.82591198372090401936;-0.96319630853948856597 0.71124024002147578916 0.70322069567474998486 -0.72769762233447043975 0.5954161925396961319 -0.45563103852157360585 -0.014238316116329509387 0.40841325752949292349 -0.80724563972796503641 0.33365305404605571926 0.14640151396290204677 0.22985133342175412263;0.53863921416459492608 0.628380659183153778 -0.77322631278538789257 -0.02391987483723305441 -0.44344461973800830545 -0.7059239427852583848 -0.66971997335808508556 0.47859613179725446486 0.53535851850965443521 0.8406043666387456037 -0.79708093648969047251 0.21815064642314502263;-0.5052068835236991351 -0.04162270108261265783 0.41864298363311358564 0.76663783340523283805 0.08202731978474170349 0.0026220520989218387524 0.30507433453670851353 1.1250664578280771266 -0.22554481111690466433 0.92473118991569192016 0.71733488858427063573 0.36284235733411435154;0.71108773086139709374 -0.087025492864639009127 -0.12189531097040232077 -0.38586912712772014622 0.84471026998472076297 -0.75821235892961935665 -0.51478162196882515378 0.58299726313281108325 -0.51870210333675759173 0.44268651278084086842 -0.56427592850235630539 -0.33957994630614513065;0.74464257324329319321 -0.58292534046149580007 -0.31065396719027882355 -0.86420021003198443932 -0.6507301781553093134 -0.019964272648290613821 -0.47938487945028790405 0.8687918544542121424 0.38148660944702506015 0.23962637074443393637 0.33335429452448400722 0.63945055860560684469;0.016958655251902678834 0.55476342628300334692 -0.56792517982329571158 -0.49859946348318345821 -0.055555189718630507145 -0.29609597625220129835 0.27142500362886223808 0.1809122382038065302 -0.19473032398066758564 -1.3173166601531796083 -0.56396116936699280942 0.31382405713026595429;0.14325410263897828123 0.54482158320627716019 -0.58652159075000220856 0.293362701961615846 0.32323110770362362132 0.98904551906985949117 -0.21844114156513616543 -0.38368338444993582703 0.68623852870678336835 -0.63124922228907298649 -0.92656633621222017627 -0.70798491042552647023;-0.89457671836805208176 0.67601948126582389609 -0.35828725643256925659 -0.26480464151265376005 0.36467276021887501392 0.39051467009020429666 0.44594504082129404754 0.11247175701552110383 1.1827800300651105658 0.40294215405627020754 0.51069454539759262524 0.94723036001021820862;-0.71689589256172758791 -0.39984123067157323339 -0.2148018943783761292 0.34931874509198657108 -0.79849528703051197986 -0.052562383419922253935 0.44125938214746945887 -0.23202114112543173463 0.70231193304085803852 -0.25586532211322687846 0.82130646091994297109 1.1597551266213192989;-0.23830324174079528521 0.57933848108206353889 -0.96895680470725786826 -0.86423386241608113334 0.33997067859232382725 0.29500667874117481038 0.89344885335032397933 -0.62319626521757065518 0.090349613805859485538 -0.42122332494412323411 0.20818770487858817564 0.76857537834704625634;-0.17709335990020405593 -0.62341554443313451639 0.025020583457829238816 -0.77017435765645048118 -0.35777174255544541559 -1.0110799562441485921 -0.70411872498260441589 0.7220546118420319015 -0.025961012975584063511 0.17227760537246639139 -0.96982996463569959289 0.34014737996303850975;0.20098212743461285612 0.91949812819885423654 0.92052918146758422324 0.62770056999785084351 -0.043020187320403420472 -0.56220648408704809729 0.87745629725527907183 0.52972524502954820846 -0.47409938749618008025 0.34042068493051630407 0.54354693005042598042 -0.46138867295652041811;-0.084741522257857596068 0.65089593312179494511 -0.29834861046991695277 -0.92866617529884198934 0.66132322293692447079 -0.00065891076691742883273 0.65153142729602675498 0.2296686436591796332 1.0126694679883541106 0.6909393887888588548 -0.57099964201682340548 0.092092863909145880608;-0.91575422005029349926 0.012312246483999655239 0.61098893856710856376 -0.80908138266612084077 -0.21781782914161387787 -0.15118023528489535345 0.9730776564475096535 1.0722602476032982999 0.47198644972556347277 -0.34476596335479248179 -0.14675660605458393237 0.96775161340870086146;0.57665567316561217037 -0.93274478110372183171 1.0336871283863575677 0.83105930141737793804 -0.55224943050086972018 0.28988344536305649113 -0.52983227429032986322 0.16340685598363671738 -0.62318959642759008677 -0.375026240514968634 0.25471550112836738311 0.35780814808865435417;0.79312568992392828982 0.54003704572740851564 -0.34837250172299971673 0.26567669552200945393 1.3128620383289590912 -0.32638739334889871335 -0.2688546139690915493 0.68691746638147721526 -0.8323509708911671634 -0.65782233720749172523 -0.52896514647208492388 0.69379999759064259202;-0.70881036926611573623 -0.87479161441462105486 0.52611555486656347291 -0.08428344583549604585 0.40170065160989759656 -0.46248006346588371729 0.90023881629283308836 -0.38611882775426165093 -0.61065154193822690498 0.060871919811097539854 0.36176496478960501468 -0.53675379717428617354;-0.20569004697190804154 -1.5304204696140031317 -0.2600253694775617741 0.43733090137453428659 0.46189262576250450509 -0.015749269550742767132 0.13534497389451863314 0.10676833911603490768 0.72620470373806345066 -0.10460885072532592754 -0.32765082005238871377 -0.89593703367267696347;-0.46631033350123601844 0.1995713906093211365 -0.10842525524125433412 -0.43763535083549148785 -0.79783741737086388834 0.19587733145616001429 -1.0087091026753973733 0.75784753938022342279 -0.26090501126658105502 -0.78182328734962502903 -0.18483852786065349538 -0.90561417169422320228;0.50171994738565151017 -1.1103375420438466037 -0.27825642990180732284 0.9566552571455764209 -0.088266139586061123645 0.54781116231544557671 0.43092063216923370828 0.14359098393398100901 -0.47974628660098111999 -0.34472910870132850158 0.63387428456901218077 -1.1530544989765234565;0.75531578404850607811 -0.60275141813678434488 0.69875122798589195394 0.60050121615256357721 0.77785643223513678546 0.17447297102221076548 -0.29873673398039357618 0.26223942762537000295 -0.3838901348100069999 -0.94163489550212209345 -0.66700528390472912932 0.90150275120333811518;-0.58400633586195405123 -0.56431323441355996096 0.068148133710337663316 0.90311180993815143303 -0.61706519747332666537 -0.27549408214210119317 0.66735344808613028533 -0.27174767702929830682 -0.80622379203193306196 -0.85713467996335390708 -0.0089103376465432485715 -0.67182624695716808283;-0.58494199182608141996 -0.15609705831176562407 -0.92906626149481574828 -0.49089552258950069907 0.70579522920489634608 -0.37351147067869094887 -0.47869021370361253265 0.54829731165108475111 0.16244339079258213188 0.67512713151340664197 0.13527855039501679446 0.90908109886726695681;-0.38471756830079750777 -0.27360364586204466431 0.045742377600355522971 0.24660926143877889838 0.62068477428041479715 0.43777423260133779825 -1.0705788096897865813 0.48626203119424948884 0.81664711679321111415 0.59001976915550968794 0.22468990157295143373 -0.94021501821732234028;-0.31315580534458725692 -0.81886675537396214075 -0.05615055237392557741 -1.0134594739121323137 -0.83803253647078135291 -0.5990090819483145923 -0.95764482315779120292 0.19336983694763107411 0.19409486385512220163 -0.024099646408901932021 -0.43398318173984395951 0.55441009642707128613;-0.071345854150952708883 0.97348151174745001235 1.0822266409723677594 0.30587003824265734941 -0.34455065947789198511 0.3469088904094847492 0.15500709550638239187 -0.074281766818884445436 0.77674515491712603499 0.69048804049253353909 -0.64220940774022972075 -0.71370221299794422976;-0.96790695437140783497 -0.80956122817985509688 -0.16101729066445302774 0.98225188260893681047 0.53156444173742622983 -0.32434140222644936014 0.96231989141777507513 0.23181043753087027248 -0.62806437257818226172 0.6892498384028795666 -0.17626446694373407165 -1.026951480267147998;-0.4607630834286948196 0.21636907251351800152 0.079317003096647770155 -0.81064210798628022481 -0.7504382471600853366 -0.47471585151106920897 -0.47617691862063554753 -0.019324408194839493014 -0.7455100452656168164 -0.86622302899650438501 -1.0288051314404789149 -0.1734684434230877037;1.0746633528661275747 -0.74246158451614652218 -0.43303654675588204581 0.47774960541942262937 -0.047127485783021762222 0.33701808483158263163 -1.0854738705980933045 0.75914915801298887832 0.47023243369637401923 0.19552202186118461391 0.56774064948241420581 -0.10713368647679283319;-0.309640951793203556 -0.51597623920844126744 0.14341665409197576486 0.78145015851474342039 0.46603292215481362248 0.24238472866351606916 -0.91877727728126468154 0.041302105638011357702 -0.90455437811222760836 -0.021908675258415222231 -0.65565417499874167895 0.91883662894872830673;0.27653820314307470118 1.2515264027855441675 0.070536949106232524342 -0.42297273234507437589 1.0678454413340028317 -0.6189173291244743913 0.32840891506018898838 0.38247112382977471734 -0.90763446757763244221 -0.48621879653856608927 -0.57922848736415599724 -1.0335580239178772111;0.31200647446418589004 -0.87360668302817223729 0.65249524412980541843 0.48653532896224904736 -0.46590625173724503627 -0.40827339978212728866 -0.66435715319603771967 -0.2866690569924951193 0.49370494249976770718 1.2330222110826813964 0.87835987827413231077 -0.68507504265159380186;-0.58106702527866094243 -0.37708458112431852971 -0.51831741918822593629 1.3346764501480328224 -0.65871540586740284784 -0.14465741479304405903 -0.64575180694534983772 -0.16887502293046069424 -0.20779404780449950429 0.63303539979379730429 -0.49362499616533167535 0.19562344049330807061;0.79334529077570614675 -0.34838163238658131915 -0.55383976779405152957 -0.32740128817177371889 0.27368153009339279969 0.96267428041859215426 -0.53859382696354651809 -0.5856243670412348834 0.45073982081525332255 -0.21137587720667200264 -0.57450847405404892321 0.093878288222492306536;0.54806071194346195341 0.61114510069266925196 0.56553850142607353657 -0.099623882295231627748 0.27318221700924871786 -0.071640197596781168832 -0.73477612248703771947 -0.17004519238305670914 0.10445370280689207643 -0.16304633167421311857 -0.51239840005640568954 -1.1059629280777401039;-0.22664500210518209733 0.11222947281249059936 -0.28939027720790044818 0.46758588691052233033 -0.38344282160617887412 1.2044695702679044658 -0.83061728376245880234 0.61252478619095673817 0.97311981546829329215 -0.063389228741571032599 -0.23799373489546263305 -0.98786948767448801156;-0.877391121400350249 0.54407711252458190732 0.75839490759126126918 -1.0858744644498943277 0.043195717296091014348 -0.27048521050073864869 0.36795014979936752075 0.77199329746132505647 0.98517262984992981512 0.85451225384373441507 -0.019217426573431908854 -0.013685751601451958889;0.35974324583800271204 1.0178816134543715588 0.75651355582356183405 0.26965853945923679014 0.5245814672263744427 -0.42795551384199592704 -0.13283658469998460561 -0.10485982199460081032 -0.59149470183399199819 -0.48274276674105331963 -0.51281749773759932598 -0.70522668499484642002;-0.87472531978352396909 -0.91025352293656547342 -0.26311118632179997245 0.72929528658848064016 0.23679213056774112145 0.19978069229190120737 -0.23955355351878968029 -0.19197563537013739854 -0.79635193138245929934 -0.64380578734586446643 -0.15294509266366168587 -0.9070582171649257397;0.59456906974466960936 -0.12125094184372593731 0.28677073296562755056 0.39343079546731507534 -0.88492563588089734328 0.44241476919922945177 -0.79775777223007116046 0.50801975585997505291 -0.41579915686439439249 -0.3481827218120333578 0.73183171801343516183 -0.065431741442337709724;-1.0403143781757719921 -0.40572823661859636069 0.0082097010463183239803 -0.80481700325923788419 0.51186423575185324708 -0.42961088686487819421 0.26117923407463300434 0.010859908414682095668 -0.69678081378827683157 0.95914982870062248654 -1.0612648866248464152 0.64589688418805479841;0.3790564562881274524 -0.4975465932703355687 -0.70893173352729210723 -0.026991454801274572528 -0.49630027000585558161 0.2328729115062612709 1.6185104032943697927 0.82527734003843677968 -0.10634749410695436278 -0.50350843522558086374 -0.49795734151867393491 0.19750446895186918317;0.10686593141824918263 -0.020852894258781232845 0.88546377854590641032 0.27902739713673196942 0.85253347473343243923 -1.0418926159468560044 0.50359049156568380656 -0.1301658686384071506 0.24729864325265041303 -0.023882317691637990065 -0.50706763487171646609 -0.96693104155199993688;-0.39165074088084128601 0.79565795659277172014 -0.2300397859634814024 -0.75279746194135954696 0.37912599626822329757 -0.45474181376209016348 0.93912804842055042087 0.76280299683401642241 -0.042994929492353312073 -0.28513300743258956915 0.21762641352968864483 0.52224408706503877564;-0.45223358404390434639 -0.76334446384536769337 -0.45406296843102600391 0.62818653752543129887 0.98280142488947286328 0.63017773297326218351 -0.48437338078044944734 0.49735316902213222434 -0.039611757876181416527 -0.33916004098617735796 -0.01355283433164137033 0.97916206639233283049;-0.76466574991541202966 0.1909517757684791317 -0.12619500292005245146 0.73968664656008287217 0.013266602907366939132 -0.49420796716162818107 -0.024225649137611160455 0.79272145630840751274 0.69007498242030440583 0.55814540000684875753 -0.69241128185886424706 -0.88906816849460779117;0.1102836827061947772 0.19706751512426676221 -0.11472783235882402786 -0.87721950425071104629 0.74080148025155601044 -0.27141017423008018117 -0.50329807602733112049 -0.055734827182683799318 -0.72106506558412786223 -0.62944212185064041254 0.52818313104713165984 0.4236393421164055817;1.0339362531581977045 -0.039017623367248198407 -0.91246308244824736455 0.49239975502332600232 -0.28644309294341202543 -0.60447444815929651796 0.98807751658677156481 0.90336751545893967386 0.58104729575246671924 -0.32810901839512585099 0.637162507995057803 -0.075342048216885740275;0.21707174052679167886 0.67868453936661365944 -0.48629277057161057751 -0.79275518404071332323 0.0357467655550462865 0.23358005711327084475 -0.22503967078936412682 0.84476631783893940675 0.61265672519064462431 -0.06271812613791385993 -0.5647120583262399407 0.51057875838980670835;-0.09632006248335441001 -0.81776748834357648743 0.34208885979305841962 0.34463854331360682659 -0.5719271932844536277 0.36656886757347995065 -0.27389851064305037465 0.72755316108220280391 0.95914086326925918069 -0.5669597926712635072 -0.82847808715356474618 -0.60631199556899750824;-0.60121950613135466401 -0.39981130094540173747 -1.0342707596346767396 -0.45061148834954345421 0.54964461103537520792 -0.84533706370596239932 0.2393197667987581323 -0.38276787478051521596 0.59391570001481519547 0.436088396097630282 0.7509950491618984092 -0.29636912597338599396;0.4288325746141374295 -0.42695455721069663912 0.37414065398821594322 -0.25072732375927220261 0.62231250398734083706 0.20732915302845433825 0.91543613830192582803 0.95042649455326833063 0.92468687740120603102 0.32032201289961020896 -1.024851401513365845 -0.33602765939118850458;1.0114886956587585409 -0.48519076467720051449 0.18299534253850280319 0.59752124553874252921 0.67577710879796748511 -0.48583580983967467049 -0.70442002699911132613 -0.39873948111459517341 -0.57093922940395513965 -0.1104782011428113303 -0.41565357329984570223 0.25945203929435778356;0.31337086209073489185 0.28047334834891385347 0.49241805082283301997 -0.042997017522818307966 -0.89779006555996909711 -0.74225511541115740677 -0.8492994254292448586 -0.33542200159971957696 -0.46523203323247735996 -0.88364623404410946872 0.75428875316413346308 0.13097352787888633108;0.9023699871314133647 1.1430906413910961739 0.37781653036198753481 -0.20138579294582556467 0.43320451308216034736 0.26475210283964167868 -0.19824354461762649926 0.048244822873996007218 0.64941343057503708724 0.77970858848306667799 0.57806320496956598021 0.36920745906510532564;-0.013055887890447292685 0.78213493506491038598 0.31653688468625257313 -0.44497341699801062909 -0.3622376241523082574 0.2419626169928661974 -0.11315574547590735721 -1.1941423827277730663 -0.52490385814313478274 0.82787648117587608887 -1.0275655801160170633 0.67668787490192772172;-0.14073822899656487917 0.67810280493395536094 -0.57551815327333299965 0.54347831735016816079 0.80321429619806827827 -0.11720507585784488425 0.68605606644010197481 0.028192176611224757654 -0.17847997669123824571 0.91985191148316680643 0.60749099314033316865 0.88646971315725830998;-0.23659250972341733243 1.4920616747030273075 -0.36774631841763300022 -0.31335303416279858268 -0.94463091727692705124 -0.62048521308937709673 0.51469405279295821209 -0.026657178207325295943 -0.29798477216026209025 0.31970535397612626083 -0.41579450601383161068 -0.82569322861784966161;0.55891144771828249471 0.91755179454749680179 -1.0277329239513643966 0.70957390117528706952 -0.33694569708148824905 0.07561222751524442065 -0.13401807989175162916 0.85986721252581543862 -0.54240764261748597441 -0.062077453601303768382 -0.077045214434377021218 -0.68013243973503989537;0.97060674013937708882 0.32964387107630155338 -0.77568319543538133409 0.67137967536673748281 -0.61982901422214453646 -0.065884695953495039933 -0.26231507167593404173 -0.6996101263616610888 -0.78933358049938007195 0.054190062253952488158 0.14812625963837686149 -0.83297384733217660902;-0.73425362499807633743 0.19029138421367935985 -0.70059310545129571679 -0.59733234149585778816 0.64293462422396185918 -0.28590246445215072857 -0.82785771533290997137 0.58582756021505943966 0.15574275487267100204 -0.79088662494962036487 -0.70728628012448369056 0.64228968432265975963;-0.56780178187597507566 0.86039571290789429447 0.30887441119233055575 0.27193679874088666493 0.87076684379247693002 0.47619097563724493982 -0.54207775102315447491 0.4020273741598474615 0.25149476281942784173 0.91276413994355187764 -0.45661095138647356251 -0.66891315825196739908;0.092951710952037316926 0.65553201804057947832 -0.052099982999808620854 0.87629086047431958839 0.46296901255255784591 -0.14145124841879630484 0.72852589353823338225 -0.77591438898687148384 0.83993235093467877306 -0.55544357413773359777 0.30365801039476120193 0.60357224297207479058;-0.84422317964892867881 -0.52024579977184937096 -0.66277406001556105064 0.17745613770223334082 0.71953297838954666243 -0.59142477443861263264 -0.57186835787320866586 -0.23136890476404295414 0.3164913726687945128 0.41208025660162173054 -0.99643591285370769484 -0.62242797734062793591;-0.51159270084288810398 -0.022283150626893975799 0.4560152058059063207 0.44746922790166421269 -0.80604152961854025339 -0.046566502116647895404 -0.52091872424533025576 0.65358094448021286649 0.95658947473256183969 -0.95509931916127732698 0.80128001147470206966 0.42914827522845611085;0.96758709689002042609 -0.40874712221901382536 0.53409707533888139963 -0.68597803965467096798 -0.74381804870222489878 -0.10547532395118427995 -0.54477643545148191073 0.51348739407942534108 0.29940624106702046214 -0.52780171396150632468 -0.71317262690957483606 0.68217884996897315553;-0.10564311861064243359 0.65212973708446930754 0.43716493382634713516 -0.44108442544151754694 1.0256378280955691373 -1.1306882281561814185 0.4596705690859868576 -0.23692954952872705143 0.1516084057180929201 0.22100012005296434947 1.0834400088802049744 -0.28737581131835282511;0.50744555826803749987 -0.33679279832164105146 -0.95222610774735871875 0.23781906786721326852 -0.25513853796040819599 1.1672371663897556093 0.41349386524612719018 0.22476927081111369722 0.74296904224919591009 -0.97806029596759369582 0.49192251734723441148 -0.15239630091212780227;-0.49726820420882794638 -1.018320499691427905 -0.70915047727071467421 1.146766423912675581 0.034879347419306483413 0.19265535389236079777 0.31599308433519851524 -0.29721874360352612543 -0.56514932518513982806 0.25961976030847305763 0.58852692057585676011 0.71351420459278325215;0.29684063344554550978 -1.3412837522126221934 -0.73620416673124267071 0.54327543662315547213 -0.50747349374101924369 -0.36593917404522108283 -0.027569067841857253232 -0.3730365370416030002 0.52847438090315701498 0.39636759384878783585 0.17376992623509576741 0.84992908296222291487;-0.12053217897941112535 -1.1572097222066859423 0.51733320513322889056 0.82491576309893210883 1.1173355831254208059 -0.24895369791406574134 0.56458133207001692799 -0.49749497468978093329 0.011046103546219173883 0.27935612887046740171 -0.089886739613475943877 -0.84076253848809046065;-0.15414579296434513522 0.31201092015819414938 0.71652910208853326512 -0.23023600371569191703 0.77038775181306928808 0.13782473683587900815 -0.95561344600755315781 -0.17695480632086760253 -0.95091329694222104241 -0.28375745778269928499 -0.62110658399899731918 -0.85522618016337237368;0.72623222713063351197 -0.50498064334656089791 -0.32143423482593802554 0.84221451320326912171 0.083157944922917018116 0.68010986120326810678 0.027584236555908324406 -0.74795992081123574557 -0.30427902955238639304 -0.90573254130264579942 -0.63491965654707926969 0.49726941327858936726;-1.060221526894209676 -0.4580144121051629158 0.2764013029256516818 0.44260044390878799936 0.5015219431856069443 0.45683927142811581179 0.55934840062202695332 0.62916665948974659361 -0.92401581102796559453 0.76883771471098794059 -0.26677790841161574953 0.31790179560800430059;-0.87353944862251442505 -0.078622368578052992394 0.088043345886131385569 -0.61906601938401828455 0.81237167060791881656 -0.71116535435079153427 -0.68174527609937340955 0.66258373221628907856 -0.037644210457863223895 0.31233715397771016908 0.65349258047286673534 -0.35187454377686167017;0.82274242088910909398 0.53627928378740574722 -0.40088170540979350953 -0.83476102360732862273 -0.65704934586569507804 -0.67209092322390706631 0.12285599446149345071 0.42260190804788233532 0.15939537933653694091 -0.92612234787425840032 0.5849867455913138059 -0.58915662752729891505;0.98613996205027698583 -0.51935156445134700309 -0.29742641068595643272 -0.24444139271081313791 -0.33503420667272204581 0.66552924738405350169 -0.3867175051978117839 -0.77098550794790832175 0.69467984850789854523 -0.28940812661620796131 -1.094265343007519764 0.2531839067037752744;-0.11394490982737408291 -0.43628863455145716621 -0.35681441614449121991 -0.41801939049251479741 1.1078175254025122154 -0.54502096931038557237 -0.51908209276993122483 0.6678965834992204309 -0.46868495194418480221 -0.9619300804975865482 0.48523312017017256048 -0.056622015382186349775];

% Layer 2
b2 = 0.93926918329300390642;
LW2_1 = [-0.56332291427967229325 -0.073183035943320165484 0.36765919325993068334 -0.78166889399767902624 -0.43724268126778803589 -0.16579264177664251867 -0.7477618361515762091 -0.17548274215040685076 0.55425971331687329258 -0.47426842744529462692 -0.31405050942078455156 -0.98590706732130217738 -0.52246052472112680665 0.53548149389050248015 -0.50999943885469278815 0.34018937947622557294 0.31928640253479784183 0.012963282764154964583 -0.91217187159728252421 0.66623013858820245847 0.79954040351049704416 0.3807263337990031693 0.48531064594377326671 -0.21059338042635256105 -0.28640568637703839316 -0.12414982195584539637 0.19489803998693169818 -0.56853216587824151329 0.0090576836639826505126 0.20620680528660781383 0.27747800364911329174 0.28102703013792568187 0.606374125044513268 -0.66719391037926623067 -0.093512436879639893039 -0.63991554567553710076 0.38609962817914794675 0.69181158543371257252 -0.29874392957095480261 0.51635403781866573425 0.19690678811066361642 0.2075792390771007967 -0.6627708358299011504 0.21145480823844339802 0.44529044397634626185 -0.59273128314187206733 0.077366322479763785513 -0.15476191559511620621 -0.87727037561364562546 -0.12854009057100959645 0.22097326490180030367 -0.0084514361296448518163 0.88605846551755185203 -0.49318004050893105017 0.49735730260097260613 -0.40504204181324970913 -0.52552381820761095987 0.65962878223210619222 0.60083082265471643435 -0.20089151183820055935 0.15138486957464325489 0.68130603791405608405 -0.41881759359127102016 0.50536304611115734353 0.57523299617364342939 -0.42668131956016358552 -0.39741512927520078469 0.49065410246295276808 0.49364723586976616554 0.38114445350486819697 -0.50669667157930897705 -0.31636602045027278907 0.37072685242492631197 -0.59884025455844114294 0.72003181295631502046 0.32449292159589598894 -0.32673740763123498843 0.5084037822662220707 0.74479688806292898562 0.37022756405736328977 0.83040798757537492847 -0.60291604238252138881 0.30368437618650662158 -0.5021708605124687308 -0.38775574977580601344 0.30469389431862387019 0.50848605632702614798 0.40035312347313156689 0.56744798042782806924 -0.46451638215454232883 0.56036231858006513296 -0.7791592516599729068 0.65240056545877178618 -0.26112720485287205241 -0.35353564043028024022 0.85351896895484136163 -0.54924762401025761793 -0.62197380652247391541 -0.63976335689830610143 -1.0107464376274295503];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.333333333333333;
y1_step1.xoffset = -2.81916121585225;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
